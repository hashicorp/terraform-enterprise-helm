apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: terraform-enterprise-mtls
  namespace: argocd
  finalizers:
    - resources-finalizer.argocd.argoproj.io
  annotations:
    argocd.argoproj.io/sync-wave: "2"
spec:
  project: default
  source:
    repoURL: https://github.com/hashicorp/terraform-enterprise-helm
    targetRevision: test
    path: .
    helm:
      parameters:
        # Core TFE Configuration
        - name: env.variables.TFE_OPERATIONAL_MODE
          value: "active-active"
        - name: env.variables.TFE_HOSTNAME
          value: "live-bunny.ptfe-dev.aws.ptfedev.com"
        - name: env.variables.TFE_IACT_TIME_LIMIT
          value: "60"
        - name: env.variables.TFE_IACT_SUBNETS
          value: "0.0.0.0/0"
        - name: env.secrets.TFE_ENCRYPTION_PASSWORD
          value: "SUPERDUPERSECRET"
        
        # Database Configuration
        - name: env.variables.TFE_DATABASE_HOST
          value: "arriving-goshawk-tfe20250909152256036400000002.cptm0imr5bns.us-west-2.rds.amazonaws.com:5432"
        - name: env.variables.TFE_DATABASE_NAME
          value: "blah"
        - name: env.variables.TFE_DATABASE_USER
          value: "blah"
        - name: env.secrets.TFE_DATABASE_PASSWORD
          value: "blah"
        
        # Redis Configuration
        - name: env.variables.TFE_REDIS_HOST
          value: "master.arriving-goshawk-tfe.lpinhy.usw2.cache.amazonaws.com:6379"
        - name: env.variables.TFE_REDIS_USE_AUTH
          value: "true"
        - name: env.variables.TFE_REDIS_USE_MTLS
          value: "true"
        
        # Redis TLS Configuration (using your new Redis TLS support)
        - name: tlsRedis.certData
          value: "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURlakNDQW1LZ0F3SUJBZ0lVRmFrZUNlcnRpZmljYXRlRm9yUmVkaXNUZXN0aW5nMHdEUVlKS29aSWh2Y04KQVFFTEJRQXdYREVMTUFrR0ExVUVCaE1DVlZNeERUQUxCZ05WQkFnTUJGUmxjM1F4RFRBTEJnTlZCQWNNQkZSbApjM1F4RFRBTEJnTlZCQW9NQkZSbGMzUXhEVEFMQmdOVkJBc01CRlJsYzNReERUQUxCZ05WQkFNTUJGUmxjM1F3CkhoY05NalV3T1RBNU1UWTFPVFUyV2hjTk1qVXhNREE1TVRZMU9UVTJXakJjTVFzd0NRWURWUVFHRXdKVlV6RU4KTUFzR0ExVUVDQXdFVkdWemRERU5NQXNHQTFVRUJ3d0VWR1Z6ZERFTk1Bc0dBMVVFQ2d3RVZHVnpkREVOTUFzRwpBMVVFQ3d3RVZHVnpkREVOTUFzR0ExVUVBd3dFVkdWemREQ0NBU0l3RFFZSktvWklodmNOQVFFQkJRQURnZ0VQCkFEQ0NBUW9DZ2dFQkFNUitIWWZ5ajE4cFJVcjNybzIxeDBzdTJ5cWJwWldwRGI2dVY0VGEwbVQzTk5JZzdVS1MKN3F2YlZsZFZSdHZPV3BGdmVoOVNlWXBHa1U4TUtoT0xkYlgwRkN1aDVucXo4TXEzb0JZYVQxNWtEQXVweFVQOApLOUdxWnVFejFQR2ZLQUxyK09uTHFnTlFvd0M5dTJrbVVJZnArTy9RK1NaS1ZlQW5WVEVLUE9sM0FyVkVJRm5rCjcwc2QxRXBHdmtpOVZKQzh1RmE3QXR6WXNkaTJRSzlKSDVhTExadmQrV0tka05HTUtGWVFVU1JtcEZ0eSs3bWcKUnpNbGNxNVZOK2RxMHdnTSs5Y1ZNRW1oK0ZBQ3pOaGpWZjEwWE5ab2VibUJnYkJ1cTV6KzZJS0h1a0VERHA5cQp1SmFUTkVQZU9kd2ZOVERpRk1IcWJjcWZtOGVaZG5lQU5iTUNBd0VBQWFOUU1FNHdEQVlEVlIwVEFRSC9CQUl3CkFEQWRCZ05WSFE0RUZnUVVBZTBKRVhBZ1Vaa1F6M2kwb2lKRW55NWQ4VWt3SHdZRFZSMGpCQmd3Rm9BVUFlMEoKRVhBZ1Vaa1F6M2kwb2lKRW55NWQ4VWt3RFFZSktvWklodmNOQVFFTEJRQURnZ0VCQUVDZjd3OGtKMHduYnUzZAp5NWczWENQeG14WnRLUzVPOXQxdDl4VXA1dmJwYkJ1K3ZFN1NOclFJMFpnc3NHaGo3MTgyZGxLb0hzQTZrZWdMCmFGcVBqY2FPTFlJckNhZUtqQm91NTF6dC8xUkF3ck1IaVdYbXpYNjJiZzdZVm50SUJPdGVqOUltb1pUalVVMGUKU3FOZXE3TXVWcVVRSWV5VkRZd1Y3Q1IrYld0OW9kVmc3MVl4dXQwZlZacXI3d3IxOFMwdkU5bGM1RlZwTnMzRgp0Y1NOdkltVEE2ZzE2RlFVYytYdlRhVzAwZmhZcGsyZ0VXeDU1RG8rOStiQ2wrNnpkcHRFTGl6VE1WTnFHaTR3CmFyMCtJZUF1YmNZa1E3eDlIRm5WazRHd1Q5OE5jVnVqM1FISkJNUkJsOEFXa2NDdWdEQmNaVjVRR3FQemRpSCsKL2xxV2Y4UT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
        - name: tlsRedis.keyData
          value: "LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tCk1JSUV2UUlCQURBTkJna3Foa2lHOXcwQkFRRUZBQVNDQktjd2dnU2pBZ0VBQW9JQkFRREVmaDJIOG85ZktVVksKOTY2TnRjZExMdHNxbTZXVnFRMitybGVFMnRKazl6VFNJTzFDa3U2cjIxWlhWVWJiemxxUmIzb2ZVbm1LUnBGUApEQ29UaTNXMTlCUXJvZVo2cy9ES3Q2QVdHazllWkF3THFjVkQvQ3ZScW1iaE05VHhueWdDNi9qcHk2b0RVS01BCnZidHBKbENINmZqdjBQa21TbFhnSjFVeENqenBkd0sxUkNCWjVPOUxIZFJLUnI1SXZWU1F2TGhXdXdMYzJMSFkKdGtDdlNSK1dpeTJiM2ZsaW5aRFJqQ2hXRUZFa1pxUmJjdnU1b0VjekpYS3VWVGZuYXRNSURQdlhGVEJKb2ZoUQpBc3pZWTFYOWRGeldPSG01Z1lHd2JxdWMvdWlDaDdwQWdROWZhcmlXa3pSRDNqbmNIelV3NGhUQjZtM0tuNXZICm1YWjNnRFd6QWdNQkFBRUNnZ0VBQnNETkVkT1FFaVVPQ1JTMzNJOEV6Zkp3L0dPdWZBRHlMcDF2aHY2SEhFQkEKdk1PZHJUN3FQcEpNNUJoZGRVUFFQSEkybUwvU1FPazhqZVNSN083dUY1T0d4VmdoQTlELytNcXI1RFNkaW1pTQpqQkdPOFIzSGJERUlsWGFnSzBHZGZ5R3BYUXJFZEZTNTgwVVFBdkErM0lhdjhPbGYyaTg1SjNjeFNNc3lwdFFWCjViNmtYM3FkWVgzOGNjTW5lSXY2VkNNejNsaU5MTWhjVUFyVndnU2VTL1lCOXVtaFgzVmc4RytsMUNrNGdTaGYKZFJ2UVJrR2hQYmNPN3U1bzBNeVUvc3ZtbFVhZFNReUV3TnlhVWtzU3dkV1pIQTlZa2lCMytjcTlEa004aUhybAp6Y1ZNZjQ4WEFZQ3RHUTNZYm00cXZxSUFHNkNYcHVYaXMrckZNUUtCZ1FEcUhQbTdlSnM0aWZ1bFh6MjQ3cXFECmJRZjBVR01hMnJ2SG1YaDZOcFl4M1lZY3hCd1pNM1I3ZklUdXNOZ2lId3BNQnZudlFvV3FVRlN2MnBCTmQyRVUKTml3OTVjOFd0SmZaQmE2QkROT3R0N1FLcXNwY1prS3BrUE5vQ29SVCtrVmFsWlVGcUUvTUdlTy9LeXgzblE5SwpGa283RGl1MnFZekdGTERINTZKM29mN0h5d0tCZ1FEWFpyOUlwZU9tWXBpMDNWcUt3VGc2YmVtOEZ5a0FBakloCjJ0ZlRLNGZvUGRUakxZTVJWdGF5YzQwaGJDRmpLT2N2bzBFSUFOQnBucVgwdFp2K0tzU3h3ZmNHaHZWS05GeXEKb0VnS1VlRmdYN2ZGYzdodHB0bXV0Q0VQQ2d6Qmk3bm1naytFRjRXNGFZRjlvWVF1VGN1MjlFQlM0eko1c09lTApDT3QzMkZoSU53S0JnQ1BzeC84dGZOdXFObVhwbjFnM3ZJVVVDRnVPWVhRSXlpRzJPelgra3U5VlplYjZBQzZhCnY3cXNOQ0dXU2VSOWxIUXkyNTNydzVLd3pUenRGRFJoZThKa3AvRy9EYzU4eUlqTXZyT3hwMjN0Z0p1QXp3a3kKWVRHVGVNZXo1Sjk5cEhmSzZNbnpOUXBoam00YklEcWQyL3N1U0Nza3UrYzNNcGJxREthVTVFbURBb0dCQUwzNApkdlNWb0J6Rmt1UHdSdzhDRGFWTGJqUGU3TGFKWkduYWJhN0E3amcwNGs4cWZsZFh6Y3N6bU1HUStCeTRacTNzCm1rZ2F2ckNzRE9aRFVEekFzYkNCbTBvdTE0T2tSY2pBUkJ0TnY5MEJTbFpIeExJL2s5eWFuc2JLZ3FpdFAzc0QKSTF6Y3RQRWx0b2RGd0xsK2lIZnNKUlVqNDVyODlYdzVzVUxaZ1lFekFvR0FNZVRvOHE1U3FTMWxtMDcvR2VSKwpsaHJOKzNZc1RkWE82blEyKzJOcjZ0a1hNck1CcFJzN0FYQ1NBdFZ6QThsRnVsUXVhYkpHM0x6MTZOVVBWaTZKCmtKOUhTZTdVNzVJNERrbGtCNWZSMG5nTUF2SXJvK0hJNnhVYUhwYkVZOGNEa0tHRFNQam5SRmx0dGFGS0Y4SDgKdEZXTkVNelVmT2VzclBpMTUyYXVFa289Ci0tLS0tRU5EIFBSSVZBVEUgS0VZLS0tLS0K"
        - name: tlsRedis.caCertData
          value: "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURlakNDQW1LZ0F3SUJBZ0lVRmFrZUNBQ2VydGlmaWNhdGVGb3JDZXJ0QXV0aG9yaXR5MHdEUVlKS29aSWh2Y04KQVFFTEJRQXdYREVMTUFrR0ExVUVCaE1DVlZNeERUQUxCZ05WQkFnTUJGUmxjM1F4RFRBTEJnTlZCQWNNQkZSbApjM1F4RFRBTEJnTlZCQW9NQkZSbGMzUXhEVEFMQmdOVkJBc01CRlJsYzNReERUQUxCZ05WQkFNTUJGUmxjM1F3CkhoY05NalV3T1RBNU1UWTFPVFUyV2hjTk1qVXhNREE1TVRZMU9UVTJXakJjTVFzd0NRWURWUVFHRXdKVlV6RU4KTUFzR0ExVUVDQXdFVkdWemRERU5NQXNHQTFVRUJ3d0VWR1Z6ZERFTk1Bc0dBMVVFQ2d3RVZHVnpkREVOTUFzRwpBMVVFQ3d3RVZHVnpkREVOTUFzR0ExVUVBd3dFVkdWemREQ0NBU0l3RFFZSktvWklodmNOQVFFQkJRQURnZ0VQCkFEQ0NBUW9DZ2dFQkFNUitIWWZ5ajE4cFJVcjNybzIxeDBzdTJ5cWJwWldwRGI2dVY0VGEwbVQzTk5JZzdVS1MKN3F2YlZsZFZSdHZPV3BGdmVoOVNlWXBHa1U4TUtoT0xkYlgwRkN1aDVucXo4TXEzb0JZYVQxNWtEQXVweFVQOApLOUdxWnVFejFQR2ZLQUxyK09uTHFnTlFvd0M5dTJrbVVJZnArTy9RK1NaS1ZlQW5WVEVLUE9sM0FyVkVJRm5rCjcwc2QxRXBHdmtpOVZKQzh1RmE3QXR6WXNkaTJRSzlKSDVhTExadmQrV0tka05HTUtGWVFVU1JtcEZ0eSs3bWcKUnpNbGNxNVZOK2RxMHdnTSs5Y1ZNRW1oK0ZBQ3pOaGpWZjEwWE5ab2VibUJnYkJ1cTV6KzZJS0h1a0VERHA5cQp1SmFUTkVQZU9kd2ZOVERpRk1IcWJjcWZtOGVaZG5lQU5iTUNBd0VBQWFOVURCTUJCZzNWSDFSUU1JQkRmK0lJCkFnZWZEeGNWenNobkRpOVh1SURNSVNScElWa0RpdGRmUitJVERqSElVRHBINmt4cWNwa08va2tGTlB1UzRYck0KalZUSk5nWU1XTWNtWTNFMjRTZEUzVzlwZVB3czNVaGNXOFpGN3FwU0xCVVJET3lYZzM1dVh6L1p4SXEyMWI1OQp5Qmo4TDBpOXpuL3U5K1hmdHNhczJGVVh1WnBGWUp6U3FFQWtWcUZGcE5nbWNoOHQ5NTYrc09tZnZtSXNRMXpyCkVrTHlEa0tNVFhtNHhsU1czUDEzdTV6YkgzKzVJNVNuWGZGcFFjR08vQzNOZU1XUmlndXByMkV4UEVkZmFrZ1EKRU5xYlFBMmY4MFF1YkpJMGxqNVNuaW5jWGxXb2ZHVitxQWVOYWJkTHlKYmlEYWpjcldJeXMrWVhPd0lEQVFBQgpvMUF3VGpBTUJnTlZIUk1CQWZRRWlBQ0FBZGVYaFVURlNNQ0lKRnBtYVhRNjFOYUZCbjRGUVVBZTBKRVhBZ1Vaa1F6M2kwb2lKRW55NWQ4VWt3SHdZRFZSMGpCQmd3Rm9BVUFlMEoKRVhBZ1Vaa1F6M2kwb2lKRW55NWQ4VWt3RFFZSktvWklodmNOQVFFTEJRQURnZ0VCQUVDZjd3OGtKMHduYnUzZAp5NWczWENQeG14WnRLUzVPOXQxdDl4VXA1dmJwYkJ1K3ZFN1NOclFJMFpnc3NHaGo3MTgyZGxLb0hzQTZrZWdMCmFGcVBqY2FPTFlJckNhZUtqQm91NTF6dC8xUkF3ck1IaVdYbXpYNjJiZzdZVm50SUJPdGVqOUltb1pUalVVMGUKU3FOZXE3TXVWcVVRSWV5VkRZd1Y3Q1IrYld0OW9kVmc3MVl4dXQwZlZacXI3d3IxOFMwdkU5bGM1RlZwTnMzRgp0Y1NOdkltVEE2ZzE2RlFVYytYdlRhVzAwZmhZcGsyZ0VXeDU1RG8rOStiQ2wrNnpkcHRFTGl6VE1WTnFHaTR3CmFyMCtJZUF1YmNZa1E3eDlIRm5WazRHd1Q5OE5jVnVqM1FISkJNUkJsOEFXa2NDdWdEQmNaVjVRR3FQemRpSCsKL2xxV2Y4UT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
        
       # Redis TLS Configuration (using your new Redis TLS support)
        - name: tlsRedisSidekiq.certData
          value: "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURlakNDQW1LZ0F3SUJBZ0lVRmFrZUNlcnRpZmljYXRlRm9yUmVkaXNUZXN0aW5nMHdEUVlKS29aSWh2Y04KQVFFTEJRQXdYREVMTUFrR0ExVUVCaE1DVlZNeERUQUxCZ05WQkFnTUJGUmxjM1F4RFRBTEJnTlZCQWNNQkZSbApjM1F4RFRBTEJnTlZCQW9NQkZSbGMzUXhEVEFMQmdOVkJBc01CRlJsYzNReERUQUxCZ05WQkFNTUJGUmxjM1F3CkhoY05NalV3T1RBNU1UWTFPVFUyV2hjTk1qVXhNREE1TVRZMU9UVTJXakJjTVFzd0NRWURWUVFHRXdKVlV6RU4KTUFzR0ExVUVDQXdFVkdWemRERU5NQXNHQTFVRUJ3d0VWR1Z6ZERFTk1Bc0dBMVVFQ2d3RVZHVnpkREVOTUFzRwpBMVVFQ3d3RVZHVnpkREVOTUFzR0ExVUVBd3dFVkdWemREQ0NBU0l3RFFZSktvWklodmNOQVFFQkJRQURnZ0VQCkFEQ0NBUW9DZ2dFQkFNUitIWWZ5ajE4cFJVcjNybzIxeDBzdTJ5cWJwWldwRGI2dVY0VGEwbVQzTk5JZzdVS1MKN3F2YlZsZFZSdHZPV3BGdmVoOVNlWXBHa1U4TUtoT0xkYlgwRkN1aDVucXo4TXEzb0JZYVQxNWtEQXVweFVQOApLOUdxWnVFejFQR2ZLQUxyK09uTHFnTlFvd0M5dTJrbVVJZnArTy9RK1NaS1ZlQW5WVEVLUE9sM0FyVkVJRm5rCjcwc2QxRXBHdmtpOVZKQzh1RmE3QXR6WXNkaTJRSzlKSDVhTExadmQrV0tka05HTUtGWVFVU1JtcEZ0eSs3bWcKUnpNbGNxNVZOK2RxMHdnTSs5Y1ZNRW1oK0ZBQ3pOaGpWZjEwWE5ab2VibUJnYkJ1cTV6KzZJS0h1a0VERHA5cQp1SmFUTkVQZU9kd2ZOVERpRk1IcWJjcWZtOGVaZG5lQU5iTUNBd0VBQWFOUU1FNHdEQVlEVlIwVEFRSC9CQUl3CkFEQWRCZ05WSFE0RUZnUVVBZTBKRVhBZ1Vaa1F6M2kwb2lKRW55NWQ4VWt3SHdZRFZSMGpCQmd3Rm9BVUFlMEoKRVhBZ1Vaa1F6M2kwb2lKRW55NWQ4VWt3RFFZSktvWklodmNOQVFFTEJRQURnZ0VCQUVDZjd3OGtKMHduYnUzZAp5NWczWENQeG14WnRLUzVPOXQxdDl4VXA1dmJwYkJ1K3ZFN1NOclFJMFpnc3NHaGo3MTgyZGxLb0hzQTZrZWdMCmFGcVBqY2FPTFlJckNhZUtqQm91NTF6dC8xUkF3ck1IaVdYbXpYNjJiZzdZVm50SUJPdGVqOUltb1pUalVVMGUKU3FOZXE3TXVWcVVRSWV5VkRZd1Y3Q1IrYld0OW9kVmc3MVl4dXQwZlZacXI3d3IxOFMwdkU5bGM1RlZwTnMzRgp0Y1NOdkltVEE2ZzE2RlFVYytYdlRhVzAwZmhZcGsyZ0VXeDU1RG8rOStiQ2wrNnpkcHRFTGl6VE1WTnFHaTR3CmFyMCtJZUF1YmNZa1E3eDlIRm5WazRHd1Q5OE5jVnVqM1FISkJNUkJsOEFXa2NDdWdEQmNaVjVRR3FQemRpSCsKL2xxV2Y4UT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo"
        - name: tlsRedisSidekiq.keyData
          value: "LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tCk1JSUV2UUlCQURBTkJna3Foa2lHOXcwQkFRRUZBQVNDQktjd2dnU2pBZ0VBQW9JQkFRREVmaDJIOG85ZktVVksKOTY2TnRjZExMdHNxbTZXVnFRMitybGVFMnRKazl6VFNJTzFDa3U2cjIxWlhWVWJiemxxUmIzb2ZVbm1LUnBGUApEQ29UaTNXMTlCUXJvZVo2cy9ES3Q2QVdHazllWkF3THFjVkQvQ3ZScW1iaE05VHhueWdDNi9qcHk2b0RVS01BCnZidHBKbENINmZqdjBQa21TbFhnSjFVeENqenBkd0sxUkNCWjVPOUxIZFJLUnI1SXZWU1F2TGhXdXdMYzJMSFkKdGtDdlNSK1dpeTJiM2ZsaW5aRFJqQ2hXRUZFa1pxUmJjdnU1b0VjekpYS3VWVGZuYXRNSURQdlhGVEJKb2ZoUQpBc3pZWTFYOWRGeldPSG01Z1lHd2JxdWMvdWlDaDdwQWdROWZhcmlXa3pSRDNqbmNIelV3NGhUQjZtM0tuNXZICm1YWjNnRFd6QWdNQkFBRUNnZ0VBQnNETkVkT1FFaVVPQ1JTMzNJOEV6Zkp3L0dPdWZBRHlMcDF2aHY2SEhFQkEKdk1PZHJUN3FQcEpNNUJoZGRVUFFQSEkybUwvU1FPazhqZVNSN083dUY1T0d4VmdoQTlELytNcXI1RFNkaW1pTQpqQkdPOFIzSGJERUlsWGFnSzBHZGZ5R3BYUXJFZEZTNTgwVVFBdkErM0lhdjhPbGYyaTg1SjNjeFNNc3lwdFFWCjViNmtYM3FkWVgzOGNjTW5lSXY2VkNNejNsaU5MTWhjVUFyVndnU2VTL1lCOXVtaFgzVmc4RytsMUNrNGdTaGYKZFJ2UVJrR2hQYmNPN3U1bzBNeVUvc3ZtbFVhZFNReUV3TnlhVWtzU3dkV1pIQTlZa2lCMytjcTlEa004aUhybAp6Y1ZNZjQ4WEFZQ3RHUTNZYm00cXZxSUFHNkNYcHVYaXMrckZNUUtCZ1FEcUhQbTdlSnM0aWZ1bFh6MjQ3cXFECmJRZjBVR01hMnJ2SG1YaDZOcFl4M1lZY3hCd1pNM1I3ZklUdXNOZ2lId3BNQnZudlFvV3FVRlN2MnBCTmQyRVUKTml3OTVjOFd0SmZaQmE2QkROT3R0N1FLcXNwY1prS3BrUE5vQ29SVCtrVmFsWlVGcUUvTUdlTy9LeXgzblE5SwpGa283RGl1MnFZekdGTERINTZKM29mN0h5d0tCZ1FEWFpyOUlwZU9tWXBpMDNWcUt3VGc2YmVtOEZ5a0FBakloCjJ0ZlRLNGZvUGRUakxZTVJWdGF5YzQwaGJDRmpLT2N2bzBFSUFOQnBucVgwdFp2K0tzU3h3ZmNHaHZWS05GeXEKb0VnS1VlRmdYN2ZGYzdodHB0bXV0Q0VQQ2d6Qmk3bm1naytFRjRXNGFZRjlvWVF1VGN1MjlFQlM0eko1c09lTApDT3QzMkZoSU53S0JnQ1BzeC84dGZOdXFObVhwbjFnM3ZJVVVDRnVPWVhRSXlpRzJPelgra3U5VlplYjZBQzZhCnY3cXNOQ0dXU2VSOWxIUXkyNTNydzVLd3pUenRGRFJoZThKa3AvRy9EYzU4eUlqTXZyT3hwMjN0Z0p1QXp3a3kKWVRHVGVNZXo1Sjk5cEhmSzZNbnpOUXBoam00YklEcWQyL3N1U0Nza3UrYzNNcGJxREthVTVFbURBb0dCQUwzNApkdlNWb0J6Rmt1UHdSdzhDRGFWTGJqUGU3TGFKWkduYWJhN0E3amcwNGs4cWZsZFh6Y3N6bU1HUStCeTRacTNzCm1rZ2F2ckNzRE9aRFVEekFzYkNCbTBvdTE0T2tSY2pBUkJ0TnY5MEJTbFpIeExJL2s5eWFuc2JLZ3FpdFAzc0QKSTF6Y3RQRWx0b2RGd0xsK2lIZnNKUlVqNDVyODlYdzVzVUxaZ1lFekFvR0FNZVRvOHE1U3FTMWxtMDcvR2VSKwpsaHJOKzNZc1RkWE82blEyKzJOcjZ0a1hNck1CcFJzN0FYQ1NBdFZ6QThsRnVsUXVhYkpHM0x6MTZOVVBWaTZKCmtKOUhTZTdVNzVJNERrbGtCNWZSMG5nTUF2SXJvK0hJNnhVYUhwYkVZOGNEa0tHRFNQam5SRmx0dGFGS0Y4SDgKdEZXTkVNelVmT2VzclBpMTUyYXVFa289Ci0tLS0tRU5EIFBSSVZBVEUgS0VZLS0tLS0K"
        - name: tlsRedisSidekiq.caCertData
          value: "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURlakNDQW1LZ0F3SUJBZ0lVRmFrZUNBQ2VydGlmaWNhdGVGb3JDZXJ0QXV0aG9yaXR5MHdEUVlKS29aSWh2Y04KQVFFTEJRQXdYREVMTUFrR0ExVUVCaE1DVlZNeERUQUxCZ05WQkFnTUJGUmxjM1F4RFRBTEJnTlZCQWNNQkZSbApjM1F4RFRBTEJnTlZCQW9NQkZSbGMzUXhEVEFMQmdOVkJBc01CRlJsYzNReERUQUxCZ05WQkFNTUJGUmxjM1F3CkhoY05NalV3T1RBNU1UWTFPVFUyV2hjTk1qVXhNREE1TVRZMU9UVTJXakJjTVFzd0NRWURWUVFHRXdKVlV6RU4KTUFzR0ExVUVDQXdFVkdWemRERU5NQXNHQTFVRUJ3d0VWR1Z6ZERFTk1Bc0dBMVVFQ2d3RVZHVnpkREVOTUFzRwpBMVVFQ3d3RVZHVnpkREVOTUFzR0ExVUVBd3dFVkdWemREQ0NBU0l3RFFZSktvWklodmNOQVFFQkJRQURnZ0VQCkFEQ0NBUW9DZ2dFQkFNUitIWWZ5ajE4cFJVcjNybzIxeDBzdTJ5cWJwWldwRGI2dVY0VGEwbVQzTk5JZzdVS1MKN3F2YlZsZFZSdHZPV3BGdmVoOVNlWXBHa1U4TUtoT0xkYlgwRkN1aDVucXo4TXEzb0JZYVQxNWtEQXVweFVQOApLOUdxWnVFejFQR2ZLQUxyK09uTHFnTlFvd0M5dTJrbVVJZnArTy9RK1NaS1ZlQW5WVEVLUE9sM0FyVkVJRm5rCjcwc2QxRXBHdmtpOVZKQzh1RmE3QXR6WXNkaTJRSzlKSDVhTExadmQrV0tka05HTUtGWVFVU1JtcEZ0eSs3bWcKUnpNbGNxNVZOK2RxMHdnTSs5Y1ZNRW1oK0ZBQ3pOaGpWZjEwWE5ab2VibUJnYkJ1cTV6KzZJS0h1a0VERHA5cQp1SmFUTkVQZU9kd2ZOVERpRk1IcWJjcWZtOGVaZG5lQU5iTUNBd0VBQWFOVURCTUJCZzNWSDFSUU1JQkRmK0lJCkFnZWZEeGNWenNobkRpOVh1SURNSVNScElWa0RpdGRmUitJVERqSElVRHBINmt4cWNwa08va2tGTlB1UzRYck0KalZUSk5nWU1XTWN0WTNFMjRTZEUzVzlwZVB3czNVaGNXOFpGN3FwU0xCVVJET3lYZzM1dVh6L1p4SXEyMWI1OQp5Qmo4TDBpOXpuL3U5K1hmdHNhczJGVVh1WnBGWUp6U3FFQWtWcUZGcE5nbWNoOHQ5NTYrc09tZnZtSXNRMXpyCkVrTHlEa0tNVFhtNHhsU1czUDEzdTV6YkgzKzVJNVNuWGZGcFFjR08vQzNOZU1XUmlndXByMkV4UEVkZmFrZ1EKRU5xYlFBMmY4MFF1YkpJMGxqNVNuaW5jWGxXb2ZHVitxQWVOYWJkTHlKYmlEYWpjcldJeXMrWVhPd0lEQVFBQgpvMUF3VGpBTUJnTlZIUk1CQWZRRWlBQ0FBZGVYaFVURlNNQ0lKRnBtYVhRNjFOYUZCbjRGUVVBZTBKRVhBZ1Vaa1F6M2kwb2lKRW55NWQ4VWt3SHdZRFZSMGpCQmd3Rm9BVUFlMEoKRVhBZ1Vaa1F6M2kwb2lKRW55NWQ4VWt3RFFZSktvWklodmNOQVFFTEJRQURnZ0VCQUVDZjd3OGtKMHduYnUzZAp5NWczWENQeG14WnRLUzVPOXQxdDl4VXA1dmJwYkJ1K3ZFN1NOclFJMFpnc3NHaGo3MTgyZGxLb0hzQTZrZWdMCmFGcVBqY2FPTFlJckNhZUtqQm91NTF6dC8xUkF3ck1IaVdYbXpYNjJiZzdZVm50SUJPdGVqOUltb1pUalVVMGUKU3FOZXE3TXVWcVVRSWV5VkRZd1Y3Q1IrYld0OW9kVmc3MVl4dXQwZlZacXI3d3IxOFMwdkU5bGM1RlZwTnMzRgp0Y1NOdkltVEE2ZzE2RlFVYytYdlRhVzAwZmhZcGsyZ0VXeDU1RG8rOStiQ2wrNnpkcHRFTGl6VE1WTnFHaTR3CmFyMCtJZUF1YmNZa1E3eDlIRm5WazRHd1Q5OE5jVnVqM1FISkJNUkJsOEFXa2NDdWdEQmNaVjVRR3FQemRpSCsKL2xxV2Y4UT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
        # S3 Configuration
        - name: env.variables.TFE_OBJECT_STORAGE_S3_BUCKET
          value: "arriving-goshawk-tfe-data"
        - name: env.variables.TFE_OBJECT_STORAGE_S3_REGION
          value: "us-west-2"
        - name: env.variables.TFE_OBJECT_STORAGE_TYPE
          value: "s3"
        - name: env.variables.TFE_OBJECT_STORAGE_S3_USE_INSTANCE_PROFILE
          value: "true"
        # TLS Configuration
        - name: env.TFE_TLS_VERSION
          value: "tls_1_2_tls_1_3"
        - name: tls.certData
          value: "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURlakNDQW1LZ0F3SUJBZ0lVRmFrZUNlcnRpZmljYXRlRm9yUmVkaXNUZXN0aW5nMHdEUVlKS29aSWh2Y04KQVFFTEJRQXdYREVMTUFrR0ExVUVCaE1DVlZNeERUQUxCZ05WQkFnTUJGUmxjM1F4RFRBTEJnTlZCQWNNQkZSbApjM1F4RFRBTEJnTlZCQW9NQkZSbGMzUXhEVEFMQmdOVkJBc01CRlJsYzNReERUQUxCZ05WQkFNTUJGUmxjM1F3CkhoY05NalV3T1RBNU1UWTFPVFUyV2hjTk1qVXhNREE1TVRZMU9UVTJXakJjTVFzd0NRWURWUVFHRXdKVlV6RU4KTUFzR0ExVUVDQXdFVkdWemRERU5NQXNHQTFVRUJ3d0VWR1Z6ZERFTk1Bc0dBMVVFQ2d3RVZHVnpkREVOTUFzRwpBMVVFQ3d3RVZHVnpkREVOTUFzR0ExVUVBd3dFVkdWemREQ0NBU0l3RFFZSktvWklodmNOQVFFQkJRQURnZ0VQCkFEQ0NBUW9DZ2dFQkFNUitIWWZ5ajE4cFJVcjNybzIxeDBzdTJ5cWJwWldwRGI2dVY0VGEwbVQzTk5JZzdVS1MKN3F2YlZsZFZSdHZPV3BGdmVoOVNlWXBHa1U4TUtoT0xkYlgwRkN1aDVucXo4TXEzb0JZYVQxNWtEQXVweFVQOApLOUdxWnVFejFQR2ZLQUxyK09uTHFnTlFvd0M5dTJrbVVJZnArTy9RK1NaS1ZlQW5WVEVLUE9sM0FyVkVJRm5rCjcwc2QxRXBHdmtpOVZKQzh1RmE3QXR6WXNkaTJRSzlKSDVhTExadmQrV0tka05HTUtGWVFVU1JtcEZ0eSs3bWcKUnpNbGNxNVZOK2RxMHdnTSs5Y1ZNRW1oK0ZBQ3pOaGpWZjEwWE5ab2VibUJnYkJ1cTV6KzZJS0h1a0VERHA5cQp1SmFUTkVQZU9kd2ZOVERpRk1IcWJjcWZtOGVaZG5lQU5iTUNBd0VBQWFOUU1FNHdEQVlEVlIwVEFRSC9CQUl3CkFEQWRCZ05WSFE0RUZnUVVBZTBKRVhBZ1Vaa1F6M2kwb2lKRW55NWQ4VWt3SHdZRFZSMGpCQmd3Rm9BVUFlMEoKRVhBZ1Vaa1F6M2kwb2lKRW55NWQ4VWt3RFFZSktvWklodmNOQVFFTEJRQURnZ0VCQUVDZjd3OGtKMHduYnUzZAp5NWczWENQeG14WnRLUzVPOXQxdDl4VXA1dmJwYkJ1K3ZFN1NOclFJMFpnc3NHaGo3MTgyZGxLb0hzQTZrZWdMCmFGcVBqY2FPTFlJckNhZUtqQm91NTF6dC8xUkF3ck1IaVdYbXpYNjJiZzdZVm50SUJPdGVqOUltb1pUalVVMGUKU3FOZXE3TXVWcVVRSWV5VkRZd1Y3Q1IrYld0OW9kVmc3MVl4dXQwZlZacXI3d3IxOFMwdkU5bGM1RlZwTnMzRgp0Y1NOdkltVEE2ZzE2RlFVYytYdlRhVzAwZmhZcGsyZ0VXeDU1RG8rOStiQ2wrNnpkcHRFTGl6VE1WTnFHaTR3CmFyMCtJZUF1YmNZa1E3eDlIRm5WazRHd1Q5OE5jVnVqM1FISkJNUkJsOEFXa2NDdWdEQmNaVjVRR3FQemRpSCsKL2xxV2Y4UT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo"
        - name: tls.keyData
          value: "blLS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tCk1JSUV2UUlCQURBTkJna3Foa2lHOXcwQkFRRUZBQVNDQktjd2dnU2pBZ0VBQW9JQkFRREVmaDJIOG85ZktVVksKOTY2TnRjZExMdHNxbTZXVnFRMitybGVFMnRKazl6VFNJTzFDa3U2cjIxWlhWVWJiemxxUmIzb2ZVbm1LUnBGUApEQ29UaTNXMTlCUXJvZVo2cy9ES3Q2QVdHazllWkF3THFjVkQvQ3ZScW1iaE05VHhueWdDNi9qcHk2b0RVS01BCnZidHBKbENINmZqdjBQa21TbFhnSjFVeENqenBkd0sxUkNCWjVPOUxIZFJLUnI1SXZWU1F2TGhXdXdMYzJMSFkKdGtDdlNSK1dpeTJiM2ZsaW5aRFJqQ2hXRUZFa1pxUmJjdnU1b0VjekpYS3VWVGZuYXRNSURQdlhGVEJKb2ZoUQpBc3pZWTFYOWRGeldPSG01Z1lHd2JxdWMvdWlDaDdwQWdROWZhcmlXa3pSRDNqbmNIelV3NGhUQjZtM0tuNXZICm1YWjNnRFd6QWdNQkFBRUNnZ0VBQnNETkVkT1FFaVVPQ1JTMzNJOEV6Zkp3L0dPdWZBRHlMcDF2aHY2SEhFQkEKdk1PZHJUN3FQcEpNNUJoZGRVUFFQSEkybUwvU1FPazhqZVNSN083dUY1T0d4VmdoQTlELytNcXI1RFNkaW1pTQpqQkdPOFIzSGJERUlsWGFnSzBHZGZ5R3BYUXJFZEZTNTgwVVFBdkErM0lhdjhPbGYyaTg1SjNjeFNNc3lwdFFWCjViNmtYM3FkWVgzOGNjTW5lSXY2VkNNejNsaU5MTWhjVUFyVndnU2VTL1lCOXVtaFgzVmc4RytsMUNrNGdTaGYKZFJ2UVJrR2hQYmNPN3U1bzBNeVUvc3ZtbFVhZFNReUV3TnlhVWtzU3dkV1pIQTlZa2lCMytjcTlEa004aUhybAp6Y1ZNZjQ4WEFZQ3RHUTNZYm00cXZxSUFHNkNYcHVYaXMrckZNUUtCZ1FEcUhQbTdlSnM0aWZ1bFh6MjQ3cXFECmJRZjBVR01hMnJ2SG1YaDZOcFl4M1lZY3hCd1pNM1I3ZklUdXNOZ2lId3BNQnZudlFvV3FVRlN2MnBCTmQyRVUKTml3OTVjOFd0SmZaQmE2QkROT3R0N1FLcXNwY1prS3BrUE5vQ29SVCtrVmFsWlVGcUUvTUdlTy9LeXgzblE5SwpGa283RGl1MnFZekdGTERINTZKM29mN0h5d0tCZ1FEWFpyOUlwZU9tWXBpMDNWcUt3VGc2YmVtOEZ5a0FBakloCjJ0ZlRLNGZvUGRUakxZTVJWdGF5YzQwaGJDRmpLT2N2bzBFSUFOQnBucVgwdFp2K0tzU3h3ZmNHaHZWS05GeXEKb0VnS1VlRmdYN2ZGYzdodHB0bXV0Q0VQQ2d6Qmk3bm1naytFRjRXNGFZRjlvWVF1VGN1MjlFQlM0eko1c09lTApDT3QzMkZoSU53S0JnQ1BzeC84dGZOdXFObVhwbjFnM3ZJVVVDRnVPWVhRSXlpRzJPelgra3U5VlplYjZBQzZhCnY3cXNOQ0dXU2VSOWxIUXkyNTNydzVLd3pUenRGRFJoZThKa3AvRy9EYzU4eUlqTXZyT3hwMjN0Z0p1QXp3a3kKWVRHVGVNZXo1Sjk5cEhmSzZNbnpOUXBoam00YklEcWQyL3N1U0Nza3UrYzNNcGJxREthVTVFbURBb0dCQUwzNApkdlNWb0J6Rmt1UHdSdzhDRGFWTGJqUGU3TGFKWkduYWJhN0E3amcwNGs4cWZsZFh6Y3N6bU1HUStCeTRacTNzCm1rZ2F2ckNzRE9aRFVEekFzYkNCbTBvdTE0T2tSY2pBUkJ0TnY5MEJTbFpIeExJL2s5eWFuc2JLZ3FpdFAzc0QKSTF6Y3RQRWx0b2RGd0xsK2lIZnNKUlVqNDVyODlYdzVzVUxaZ1lFekFvR0FNZVRvOHE1U3FTMWxtMDcvR2VSKwpsaHJOKzNZc1RkWE82blEyKzJOcjZ0a1hNck1CcFJzN0FYQ1NBdFZ6QThsRnVsUXVhYkpHM0x6MTZOVVBWaTZKCmtKOUhTZTdVNzVJNERrbGtCNWZSMG5nTUF2SXJvK0hJNnhVYUhwYkVZOGNEa0tHRFNQam5SRmx0dGFGS0Y4SDgKdEZXTkVNelVmT2VzclBpMTUyYXVFa289Ci0tLS0tRU5EIFBSSVZBVEUgS0VZLS0tLS0Kah"
        # License Configuration
        - name: env.secrets.TFE_LICENSE
          value: "blah"
        
        # Image Configuration
        - name: image.repository
          value: "quay.io"
        - name: image.name
          value: "hashicorp/terraform-enterprise"
        - name: image.tag
          value: "f3885c9"
        - name: image.pullPolicy
          value: "IfNotPresent"
        
        # Resource Configuration
        - name: resources.requests.memory
          value: "2500Mi"
        - name: resources.requests.cpu
          value: "750m"
        - name: resources.limits.memory
          value: "7500Mi"
        - name: resources.limits.cpu
          value: "4000m"
        
        # Image Pull Secret
        - name: imagePullSecrets[0].name
          value: "terraform-enterprise"
        
        - name: service.type
          value: "LoadBalancer"

  destination:
    server: https://kubernetes.default.svc
    namespace: terraform-enterprise
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
    syncOptions:
      - CreateNamespace=true
      - PrunePropagationPolicy=foreground
      - PruneLast=true
      - ApplyOutOfSyncOnly=true
    retry:
      limit: 5
      backoff:
        duration: 5s
        factor: 2
        maxDuration: 3m
  revisionHistoryLimit: 10